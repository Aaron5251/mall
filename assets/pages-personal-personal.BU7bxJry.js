import{_ as s,h as a,r as t,x as e,b as o,a as l,w as c,F as i,i as n,o as r,e as d,t as u,k as f,f as p}from"./index-BiZ4IPCE.js";import{g,d as _,a as m}from"./index.esm2017.C-JWELOW.js";import{_ as v}from"./back-arrow.CkhzZLPy.js";import{_ as k,a as C,b as h,c as x,d as w}from"./aeroplan-icon.hUzFIOfx.js";const y=s({data:()=>({firstName:"",userPoints:0}),mounted(){this.fetchUserData()},methods:{async fetchUserData(){const s=a(),t=g(),e=s.currentUser;if(e){const s=e.displayName||"User";this.firstName=s.split(" ")[0];try{const s=_(t,"users",e.uid),a=await m(s);if(a.exists()){const s=a.data();this.userPoints=s.points||0,this.firstName=s.displayName.split(" ")[0]}else console.log("No such document!")}catch(o){console.error("Error fetching user data:",o)}}else console.error("No user is logged in.")},goBackToHome(){t({url:"/pages/home/home"})},goToEditProfile(){},goToHelp(){},async logout(){const s=a();try{await e(s),console.log("User logged out"),t({url:"/pages/login/login"})}catch(o){console.error("Logout failed",o)}}}},[["render",function(s,a,t,e,g,_){const m=f,y=n,P=p;return r(),o(i,null,[l(y,{class:"account-page"},{default:c((()=>[l(y,{class:"header"},{default:c((()=>[l(y,{class:"header-top"},{default:c((()=>[l(y,{class:"back-button",onClick:_.goBackToHome},{default:c((()=>[l(m,{class:"back-arrow",src:v})])),_:1},8,["onClick"]),l(P,{class:"account-title"},{default:c((()=>[d("Account")])),_:1}),l(y,{class:"edit-profile",onClick:_.goToEditProfile},{default:c((()=>[l(m,{class:"edit-icon",src:"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21.2799%206.40005L11.7399%2015.94C10.7899%2016.89%207.96987%2017.33%207.33987%2016.7C6.70987%2016.07%207.13987%2013.25%208.08987%2012.3L17.6399%202.75002C17.8754%202.49308%2018.1605%202.28654%2018.4781%202.14284C18.7956%201.99914%2019.139%201.92124%2019.4875%201.9139C19.8359%201.90657%2020.1823%201.96991%2020.5056%202.10012C20.8289%202.23033%2021.1225%202.42473%2021.3686%202.67153C21.6147%202.91833%2021.8083%203.21243%2021.9376%203.53609C22.0669%203.85976%2022.1294%204.20626%2022.1211%204.55471C22.1128%204.90316%2022.0339%205.24635%2021.8894%205.5635C21.7448%205.88065%2021.5375%206.16524%2021.2799%206.40005V6.40005Z'%20stroke='%23fff'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3cpath%20d='M11%204H6C4.93913%204%203.92178%204.42142%203.17163%205.17157C2.42149%205.92172%202%206.93913%202%208V18C2%2019.0609%202.42149%2020.0783%203.17163%2020.8284C3.92178%2021.5786%204.93913%2022%206%2022H17C19.21%2022%2020%2020.2%2020%2018V13'%20stroke='%23fff'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'%20/%3e%3c/svg%3e"}),l(P,{class:"edit-text"},{default:c((()=>[d("Edit profile")])),_:1})])),_:1},8,["onClick"])])),_:1}),l(P,{class:"greeting"},{default:c((()=>[d("Hi, "+u(g.firstName),1)])),_:1}),l(y,{class:"points"},{default:c((()=>[l(m,{class:"points-icon",src:"/assets/lp-icon-DtJTVZPU.svg"}),l(P,{class:"points-text"},{default:c((()=>[d(u(g.userPoints)+" Points",1)])),_:1}),l(P,{class:"points-value"},{default:c((()=>[d("($"+u(g.userPoints/100)+")",1)])),_:1})])),_:1})])),_:1}),l(y,{class:"section"},{default:c((()=>[l(P,{class:"section-title"},{default:c((()=>[d("Account")])),_:1}),l(y,{class:"account-options"},{default:c((()=>[l(y,{class:"option",onClick:s.viewActivity},{default:c((()=>[l(m,{class:"icon",src:"/static/activity.svg"}),l(P,null,{default:c((()=>[d("Activity")])),_:1})])),_:1},8,["onClick"]),l(y,{class:"option",onClick:s.viewPaymentMethods},{default:c((()=>[l(m,{class:"icon",src:"/static/payment-methods.svg"}),l(P,null,{default:c((()=>[d("Payment methods")])),_:1})])),_:1},8,["onClick"]),l(y,{class:"option",onClick:s.viewAddress},{default:c((()=>[l(m,{class:"icon",src:"/static/address.svg"}),l(P,null,{default:c((()=>[d("Address")])),_:1})])),_:1},8,["onClick"]),l(y,{class:"option",onClick:s.viewPreferences},{default:c((()=>[l(m,{class:"icon",src:"/static/preferences.svg"}),l(P,null,{default:c((()=>[d("Preferences")])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1}),l(y,{class:"help-section"},{default:c((()=>[l(P,{class:"help-text",onClick:_.goToHelp},{default:c((()=>[d("Help\\n")])),_:1},8,["onClick"]),l(P,{class:"logout-text",onClick:_.logout},{default:c((()=>[d("Logout")])),_:1},8,["onClick"])])),_:1})])),_:1}),l(y,{class:"bottom-nav"},{default:c((()=>[l(y,{class:"nav-item active"},{default:c((()=>[l(m,{class:"nav-icon",src:k}),l(P,{class:"nav-text"},{default:c((()=>[d("Home")])),_:1})])),_:1}),l(y,{class:"nav-item"},{default:c((()=>[l(m,{class:"nav-icon",src:C}),l(P,{class:"nav-text"},{default:c((()=>[d("Book")])),_:1})])),_:1}),l(y,{class:"nav-item"},{default:c((()=>[l(m,{class:"nav-icon",src:h}),l(P,{class:"nav-text"},{default:c((()=>[d("Flight Status")])),_:1})])),_:1}),l(y,{class:"nav-item"},{default:c((()=>[l(m,{class:"nav-icon",src:x}),l(P,{class:"nav-text"},{default:c((()=>[d("Trips")])),_:1})])),_:1}),l(y,{class:"nav-item"},{default:c((()=>[l(m,{class:"nav-icon",src:w}),l(P,{class:"nav-text"},{default:c((()=>[d("Aeroplan")])),_:1})])),_:1})])),_:1})],64)}],["__scopeId","data-v-a1a70292"]]);export{y as default};
